{"version":3,"sources":["webpack:///./src/app/TbPaiLocalizacao/tb-pai-localizacao.service.ts","webpack:///./src/app/home-index/home-index.module.ts","webpack:///./src/app/home-index/home-index.page.html","webpack:///./src/app/home-index/home-index.page.scss","webpack:///./src/app/home-index/home-index.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAA2C;AACK;AACE;AACb;AAKrC;IAIE,iCAAmB,KAAmB,EAAS,IAAU,EAAS,UAAyB;QAAxE,UAAK,GAAL,KAAK,CAAc;QAAS,SAAI,GAAJ,IAAI,CAAM;QAAS,eAAU,GAAV,UAAU,CAAe;QAH3F,WAAM,GAAG,EAAE,CAAC;QACZ,WAAM,GAAG,EAAE,CAAC;QAGV,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;QACrC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE,CAAC;IAC5C,CAAC;IAED,kDAAgB,GAAhB,UAAiB,MAAM,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ;QAAtD,iBA4BC;QA3BC,OAAO,IAAI,OAAO,CAClB,UAAC,OAAO,EAAE,MAAM;YACd,IAAI,GAAG,GAAQ,KAAI,CAAC,KAAK,CAAC,SAAS,EAAE,GAAG,+BAA+B;YACvE,IAAI,QAAQ,GAAG;gBACb,QAAQ,EAAM,KAAI,CAAC,MAAM;gBACzB,QAAQ,EAAM,MAAM;gBACpB,UAAU,EAAI,QAAQ;gBACtB,WAAW,EAAG,SAAS;gBACvB,UAAU,EAAI,QAAQ;aACvB,CAAC;YAEF,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,QAAQ,CAAC;iBAC5B,SAAS,CAAC,UAAC,MAAW;gBACrB,IAAI,OAAO,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC;gBAC5B,IAAI,GAAG,GAAO,OAAO,CAAC,GAAG,CAAC;gBAC1B,IAAI,IAAI,GAAM,OAAO,CAAC,IAAI,CAAC;gBAE3B,IAAG,IAAI,IAAI,IAAI,EAAC;oBACd,MAAM,CAAC,GAAG,CAAC,CAAC;iBACb;qBAAM;oBACL,OAAO,CAAC,GAAG,CAAC,CAAC;iBACd;YACH,CAAC,EACD,UAAC,KAAK;gBACJ,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,CAAC;YACvB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IArCU,uBAAuB;QAHnC,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;+EAK0B,2DAAY,EAAe,kDAAI,EAAqB,6DAAa;OAJhF,uBAAuB,CAsCnC;IAAD,8BAAC;CAAA;AAtCmC;;;;;;;;;;;;;;;;;;;;;;;;ACRK;AACM;AACF;AACU;AACV;AACK;AACH;AAE/C,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,8DAAa;KACzB;CACF,CAAC;AAYF;IAAA;IAAkC,CAAC;IAAtB,mBAAmB;QAV/B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;gBAC7B,4DAAY;aACb;YACD,YAAY,EAAE,CAAC,8DAAa,CAAC;SAC9B,CAAC;OACW,mBAAmB,CAAG;IAAD,0BAAC;CAAA;AAAH;;;;;;;;;;;;ACzBhC,kSAAkS,UAAU,4BAA4B,cAAc,iHAAiH,mvB;;;;;;;;;;;ACAvc,8BAA8B,wBAAwB,EAAE,gBAAgB,gBAAgB,uBAAuB,EAAE,cAAc,0BAA0B,EAAE,YAAY,oBAAoB,EAAE,mBAAmB,gBAAgB,oBAAoB,EAAE,mBAAmB,uBAAuB,eAAe,EAAE,oBAAoB,uBAAuB,cAAc,EAAE,eAAe,oBAAoB,4BAA4B,EAAE,mBAAmB,cAAc,oBAAoB,gBAAgB,EAAE,+CAA+C,uxC;;;;;;;;;;;;;;;;;;;;;;;;ACAjf;AACe;AACX;AACb;AACO;AACY;AAC6B;AACf;AAO1E;IAOE,uBACU,IAAoB,EACpB,MAAc,EACd,OAAgB,EACjB,KAAmB,EAClB,WAAwB,EACzB,gBAAyC,EACzC,eAAgC;QAPzC,iBAgCC;QA/BS,SAAI,GAAJ,IAAI,CAAgB;QACpB,WAAM,GAAN,MAAM,CAAQ;QACd,YAAO,GAAP,OAAO,CAAS;QACjB,UAAK,GAAL,KAAK,CAAc;QAClB,gBAAW,GAAX,WAAW,CAAa;QACzB,qBAAgB,GAAhB,gBAAgB,CAAyB;QACzC,oBAAe,GAAf,eAAe,CAAiB;QAblC,WAAM,GAAW,IAAI,CAAC;QACtB,aAAQ,GAAW,IAAI,CAAC;QACxB,iBAAY,GAAW,IAAI,CAAC;QAC5B,YAAO,GAAW,IAAI,CAAC;QAY5B,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,UAAC,MAAM;YACjC,IAAG,MAAM,IAAI,EAAE,EAAC;gBACd,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;aACtC;iBAAM;gBACL,KAAI,CAAC,OAAO,GAAG,2BAA2B,CAAC;gBAE3C,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;oBAChC,KAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;gBACtB,CAAC,CAAC,CAAC;gBACH,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;oBACpC,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,EAAE,kBAAkB,CAAC,CAAC;gBACrE,CAAC,CAAC,CAAC;gBACH,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;oBACnC,KAAI,CAAC,MAAM,GAAG,GAAG,CAAC;gBACpB,CAAC,CAAC,CAAC;gBACH,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;oBACxC,KAAI,CAAC,YAAY,GAAG,GAAG,CAAC;gBAC1B,CAAC,CAAC,CAAC;aACJ;QACH,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,KAAK;YACb,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,EAAE,EAAE,EAAE,mCAAmC,GAAG,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;YACvF,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;QACvC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,gCAAQ,GAAR;IACA,CAAC;IAED,qCAAa,GAAb,UAAc,QAAc;QAA5B,iBAqBC;QArBa,2CAAc;QAC1B,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAC,UAAC,IAAI;YAC9C,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,UAAC,MAAM;gBAEjC,KAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;oBAC7G,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,UAAU,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;gBACpD,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,KAAK;oBACb,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,EAAE,EAAE,EAAE,uCAAuC,GAAG,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;gBAC7F,CAAC,CAAC,CAAC;YAEL,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,KAAK;gBAEb,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,EAAE,EAAE,EAAE,wDAAwD,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;gBACpG,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;YAEvC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,KAAK;YAEb,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,EAAE,EAAE,EAAE,gDAAgD,GAAG,KAAK,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;QAEtG,CAAC,CAAC,CAAC;IACL,CAAC;IAEK,qCAAa,GAAnB;;;;;4BACgB,qBAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;4BAC9C,SAAS,EAAE,qFAAiB;4BAC5B,cAAc,EAAE,EAAE,KAAK,EAAE,GAAG,EAAE;yBAC/B,CAAC;;wBAHI,KAAK,GAAG,SAGZ;wBACK,qBAAM,KAAK,CAAC,OAAO,EAAE;4BAA5B,sBAAO,SAAqB,EAAC;;;;KAC9B;IAzEU,aAAa;QALzB,+DAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;YAC1B,wGAAqC;;SAEtC,CAAC;+EASgB,6DAAc;YACZ,sDAAM;YACL,sDAAO;YACV,2DAAY;YACL,yEAAW;YACP,oGAAuB;YACxB,8DAAe;OAd9B,aAAa,CA4EzB;IAAD,oBAAC;CAAA;AA5EyB","file":"home-index-home-index-module.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { UtilsService } from '../utils.service';\nimport { AppkeyService } from '../appkey.service';\nimport { Http } from '@angular/http';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TbPaiLocalizacaoService {\n  wsPath = '';\n  appKey = '';\n\n  constructor(public utils: UtilsService, public http: Http, public appkeyServ: AppkeyService) {\n    this.wsPath = this.utils.getWsPath();\n    this.appKey = this.appkeyServ.getAppKey();\n  }\n\n  gravaLocalizacao(pai_id, latitude, longitude, problema){\n    return new Promise(\n    (resolve, reject) => {\n      let url      = this.utils.getWsPath() + '/PaiLocalizacao/estouChegando'\n      let postData = {\n        'appkey'    : this.appKey,\n        'pai_id'    : pai_id,\n        'latitude'  : latitude,\n        'longitude' : longitude,\n        'problema'  : problema,\n      };\n\n      this.http.post(url, postData)\n      .subscribe((result: any) => {\n        let jsonRet = result.json();\n        let msg     = jsonRet.msg;\n        let erro    = jsonRet.erro;\n\n        if(erro == true){\n          reject(msg);\n        } else {\n          resolve(msg);\n        }\n      },\n      (error) => {\n        reject(error.json());\n      });\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { IonicModule } from '@ionic/angular';\nimport { HomeIndexPage } from './home-index.page';\nimport { QRCodeModule } from 'angularx-qrcode';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomeIndexPage,\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    QRCodeModule,\n  ],\n  declarations: [HomeIndexPage]\n})\nexport class HomeIndexPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-thumbnail slot=\\\"end\\\">\\n      <img class=\\\"img-logo-new\\\" src=\\\"../../assets/avatar.png\\\">\\n    </ion-thumbnail>\\n    <ion-label class=\\\"sc-ion-label-ios-h sc-ion-label-ios-s ios hydrated user-validade\\\">\\n      <h3 id=\\\"title\\\">{{nomeUser}}</h3>\\n      <p>Validade: {{validadeUser}}</p>\\n    </ion-label>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-row style=\\\"margin-bottom: 30px;\\\">\\n    <ion-col size=\\\"12\\\">\\n      <div id=\\\"qr-holder\\\">\\n        <qrcode id=\\\"qr-code\\\" [qrdata]=\\\"qrCode\\\" [size]=\\\"300\\\" [level]=\\\"'M'\\\"></qrcode>\\n      </div>\\n    </ion-col>\\n  </ion-row>\\n  <ion-row>\\n    <ion-col size=\\\"12\\\">\\n      <ion-button color=\\\"primary\\\" size=\\\"large\\\" type=\\\"button\\\" expand=\\\"block\\\" (click)=\\\"estouChegando(false)\\\">Estou chegando</ion-button>\\n      <ion-button color=\\\"danger\\\" size=\\\"large\\\" type=\\\"button\\\" expand=\\\"block\\\" (click)=\\\"estouChegando(true)\\\">Estou com problema</ion-button>\\n      <ion-button *ngIf=\\\"isTemporario == false\\\" color=\\\"primary\\\" size=\\\"large\\\" type=\\\"button\\\" expand=\\\"block\\\" (click)=\\\"cadTemporario()\\\">Login Temporário</ion-button>\\n    </ion-col>\\n  </ion-row>\\n</ion-content>\\n\"","module.exports = \"ion-header {\\n  margin-bottom: 30px; }\\n\\n#qr-holder {\\n  width: 100%;\\n  text-align: center; }\\n\\n#qr-code {\\n  display: inline-block; }\\n\\n#title {\\n  font-size: 16px; }\\n\\n#validade-new {\\n  color: #CCC;\\n  font-size: 11px; }\\n\\n.img-logo-new {\\n  position: relative;\\n  left: -8px; }\\n\\n.user-validade {\\n  position: relative;\\n  left: 8px; }\\n\\n#userName {\\n  font-size: 14px;\\n  margin: 0px 0px 3px 0px; }\\n\\n#userValidade {\\n  margin: 0;\\n  font-size: 11px;\\n  color: #CCC; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9sZWFuZHJvbml4L05ldEJlYW5zUHJvamVjdHMvc2FmZS1nby1hcHAvc2FmZS1nby1hcHAvc3JjL2FwcC9ob21lLWluZGV4L2hvbWUtaW5kZXgucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsbUJBQW1CLEVBQUE7O0FBRXJCO0VBQ0UsV0FBVztFQUNYLGtCQUFrQixFQUFBOztBQUVwQjtFQUNFLHFCQUFxQixFQUFBOztBQUV2QjtFQUNFLGVBQWUsRUFBQTs7QUFFakI7RUFDRSxXQUFXO0VBQ1gsZUFBZSxFQUFBOztBQUVqQjtFQUNFLGtCQUFrQjtFQUNsQixVQUFVLEVBQUE7O0FBRVo7RUFDRSxrQkFBa0I7RUFDbEIsU0FBUyxFQUFBOztBQUVYO0VBQ0UsZUFBZTtFQUNmLHVCQUF1QixFQUFBOztBQUV6QjtFQUNFLFNBQVM7RUFDVCxlQUFlO0VBQ2YsV0FBVyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvaG9tZS1pbmRleC9ob21lLWluZGV4LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1oZWFkZXJ7XG4gIG1hcmdpbi1ib3R0b206IDMwcHg7XG59XG4jcXItaG9sZGVyIHtcbiAgd2lkdGg6IDEwMCU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbiNxci1jb2RlIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuI3RpdGxle1xuICBmb250LXNpemU6IDE2cHg7XG59XG4jdmFsaWRhZGUtbmV3e1xuICBjb2xvcjogI0NDQztcbiAgZm9udC1zaXplOiAxMXB4O1xufVxuLmltZy1sb2dvLW5ld3tcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBsZWZ0OiAtOHB4O1xufVxuLnVzZXItdmFsaWRhZGV7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgbGVmdDogOHB4O1xufVxuI3VzZXJOYW1le1xuICBmb250LXNpemU6IDE0cHg7XG4gIG1hcmdpbjogMHB4IDBweCAzcHggMHB4O1xufVxuI3VzZXJWYWxpZGFkZXtcbiAgbWFyZ2luOiAwO1xuICBmb250LXNpemU6IDExcHg7XG4gIGNvbG9yOiAjQ0NDO1xufVxuIl19 */\"","import { Component, OnInit } from '@angular/core';\nimport { MenuController, ModalController } from '@ionic/angular';\nimport { Router, RouterEvent } from '@angular/router';\nimport { Storage } from '@ionic/storage';\nimport { UtilsService } from '../utils.service';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { TbPaiLocalizacaoService } from '../TbPaiLocalizacao/tb-pai-localizacao.service';\nimport { CadTemporarioPage } from '../cad-temporario/cad-temporario.page';\n\n@Component({\n  selector: 'app-home-index',\n  templateUrl: './home-index.page.html',\n  styleUrls: ['./home-index.page.scss'],\n})\nexport class HomeIndexPage implements OnInit {\n  public qrCode: string = null;\n  public nomeUser: string = null;\n  public validadeUser: string = null;\n  public logoUrl: string = null;\n  public isTemporario: true;\n\n  constructor(\n    private menu: MenuController,\n    private router: Router,\n    private storage: Storage,\n    public utils: UtilsService,\n    private geolocation: Geolocation,\n    public TbPaiLocalizacao: TbPaiLocalizacaoService,\n    public modalController: ModalController\n  ) {\n    this.storage.get('id').then((pai_id) => {\n      if(pai_id == ''){\n        this.router.navigate(['/homeIndex']);\n      } else {\n        this.logoUrl = '../../assets/logo-go.jpeg';\n\n        this.storage.get('nome').then((val) => {\n          this.nomeUser = val;\n        });\n        this.storage.get('validade').then((val) => {\n          this.validadeUser = this.utils.formatDate(val, 'DD/MM/YYYY HH:MI');\n        });\n        this.storage.get('qr-code').then((val) => {\n          this.qrCode = val;\n        });\n        this.storage.get('isTemporario').then((val) => {\n          this.isTemporario = val;\n        });\n      }\n    }).catch((error) => {\n      this.utils.showAlert('Erro!', '', 'Erro ao acessar aplicativo. Msg: ' + error, ['OK']);\n      this.router.navigate(['/homeIndex']);\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  estouChegando(problema=false){\n    this.geolocation.getCurrentPosition().then((resp) => {\n      this.storage.get('id').then((pai_id) => {\n\n        this.TbPaiLocalizacao.gravaLocalizacao(pai_id, resp.coords.latitude, resp.coords.longitude, problema).then((msg) => {\n          this.utils.showAlert('Sucesso!', '', msg, ['OK']);\n        }).catch((error) => {\n          this.utils.showAlert('Erro!', '', 'Erro ao enviar sua localização. Msg: ' + error, ['OK']);\n        });\n\n      }).catch((error) => {\n\n        this.utils.showAlert('Erro!', '', 'Erro ao buscar usuário logado. Faça o login novamente!', ['OK']);\n        this.router.navigate(['/homeIndex']);\n\n      });\n    }).catch((error) => {\n\n      this.utils.showAlert('Erro!', '', 'Não conseguimos receber sua localização. Msg: ' + error, ['OK']);\n\n    });\n  }\n\n  async cadTemporario(){\n    const modal = await this.modalController.create({\n      component: CadTemporarioPage,\n      componentProps: { value: 123 }\n    });\n    return await modal.present();\n  }\n\n\n}\n"],"sourceRoot":""}